# ğŸš¨ æ¶ˆæ¯æ¨¡æ¿ç®¡ç† - å¿«é€Ÿä¿®å¤æŒ‡å—

## é—®é¢˜è¯Šæ–­

æ ¹æ®æ§åˆ¶å°é”™è¯¯ï¼š
1. âŒ `GET http://localhost:3000/api/admin/ai-models/active 404`
2. âŒ `Unhandled runtime TypeError: The message part should before a response was received`

## ğŸ” é—®é¢˜åŸå› 

### é—®é¢˜1ï¼šåç«¯æœåŠ¡æœªå¯åŠ¨
å‰ç«¯æ— æ³•è¿æ¥åˆ°åç«¯APIï¼ˆ`localhost:8000`ï¼‰ï¼Œè¯·æ±‚è¢«ä»£ç†åˆ°äº† `localhost:3000`ï¼ˆå‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼‰ï¼Œå¯¼è‡´404é”™è¯¯ã€‚

### é—®é¢˜2ï¼šRuntime TypeError
ç”±äºAPIè¯·æ±‚å¤±è´¥ï¼ŒAIæ¨¡å‹æ•°æ®åŠ è½½å¤±è´¥ï¼Œå¯¼è‡´åç»­ä»£ç å‡ºç°è¿è¡Œæ—¶é”™è¯¯ã€‚

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šå¯åŠ¨åç«¯æœåŠ¡ï¼ˆæ¨èï¼‰

#### æ­¥éª¤1ï¼šæ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ

åœ¨PowerShellæ‰§è¡Œï¼š
```powershell
netstat -ano | findstr :8000
```

**å¦‚æœæ²¡æœ‰è¾“å‡º**ï¼Œè¯´æ˜åç«¯æ²¡æœ‰è¿è¡Œï¼Œéœ€è¦å¯åŠ¨ã€‚

#### æ­¥éª¤2ï¼šå¯åŠ¨åç«¯æœåŠ¡

```powershell
cd G:\aiqywx\customer-system\customer-system\backend
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

**æœŸæœ›è¾“å‡º**ï¼š
```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process
INFO:     Started server process
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

#### æ­¥éª¤3ï¼šéªŒè¯åç«¯API

åœ¨æµè§ˆå™¨è®¿é—®ï¼š
```
http://localhost:8000/api/admin/ai-models/active
```

**æœŸæœ›ç»“æœ**ï¼šè¿”å›JSONæ•°ç»„ï¼ˆå¯èƒ½æ˜¯ç©ºæ•°ç»„ `[]`ï¼‰

---

### æ–¹æ¡ˆ2ï¼šå‰ç«¯ç‹¬ç«‹è¿è¡Œï¼ˆä¸´æ—¶ï¼‰

å¦‚æœåç«¯æš‚æ—¶æ— æ³•å¯åŠ¨ï¼Œå‰ç«¯å·²ç»åšäº†å®¹é”™å¤„ç†ï¼Œä¼šä½¿ç”¨é»˜è®¤çš„AIæ¨¡å‹é…ç½®ã€‚

#### å·²ä¿®å¤çš„ä»£ç é€»è¾‘ï¼š

```javascript
// åŠ è½½AIæ¨¡å‹å¤±è´¥æ—¶ï¼Œè‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼
aiModels.value = [
  { 
    value: 'wework-official', 
    label: 'ä¼ä¸šå¾®ä¿¡å®˜æ–¹API', 
    is_official: true, 
    is_default: true 
  }
]
```

---

## ğŸ§ª å®Œæ•´æµ‹è¯•æµç¨‹

### æ­¥éª¤1ï¼šå¯åŠ¨åç«¯

```powershell
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd G:\aiqywx\customer-system\customer-system\backend
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### æ­¥éª¤2ï¼šå¯åŠ¨å‰ç«¯

```powershell
# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯
cd G:\aiqywx\customer-system\customer-system\frontend
npm run dev
```

### æ­¥éª¤3ï¼šè®¿é—®é¡µé¢

æµè§ˆå™¨æ‰“å¼€ï¼š
```
http://localhost:3000
```

### æ­¥éª¤4ï¼šæ¸…é™¤ç¼“å­˜å¹¶åˆ·æ–°

**ç¡¬åˆ·æ–°**ï¼š`Ctrl + Shift + R` æˆ– `Ctrl + F5`

### æ­¥éª¤5ï¼šæµ‹è¯•åŠŸèƒ½

#### âœ… æµ‹è¯•1ï¼šæ‰“å¼€æ¶ˆæ¯æ¨¡æ¿ç®¡ç†
1. å¯¼èˆªåˆ°"æ¶ˆæ¯æ¨¡æ¿ç®¡ç†"
2. åˆ‡æ¢åˆ°"ğŸ¤– AIå›å¤æ¨¡æ¿"
3. **æœŸæœ›**ï¼šé¡µé¢æ­£å¸¸æ˜¾ç¤ºï¼Œæ— é”™è¯¯

#### âœ… æµ‹è¯•2ï¼šæ–°å»ºæ¨¡æ¿
1. ç‚¹å‡»"+ æ–°å»ºæ¨¡æ¿"
2. å¡«å†™æ¨¡æ¿ä¿¡æ¯
3. ç‚¹å‡»"ä¿å­˜"
4. **æœŸæœ›**ï¼šä¿å­˜æˆåŠŸï¼Œåˆ—è¡¨ä¸­å‡ºç°æ–°æ¨¡æ¿

#### âœ… æµ‹è¯•3ï¼šç¼–è¾‘æ¨¡æ¿
1. ç‚¹å‡»ä»»æ„æ¨¡æ¿çš„"ç¼–è¾‘"æŒ‰é’®
2. ä¿®æ”¹æ¨¡æ¿å†…å®¹
3. ç‚¹å‡»"ä¿å­˜"
4. **æœŸæœ›**ï¼šä¿å­˜æˆåŠŸ

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### Q1ï¼šåç«¯å¯åŠ¨å¤±è´¥

**é”™è¯¯**ï¼š`ModuleNotFoundError: No module named 'xxx'`

**è§£å†³**ï¼š
```powershell
cd G:\aiqywx\customer-system\customer-system\backend
pip install -r requirements.txt
```

### Q2ï¼šç«¯å£8000è¢«å ç”¨

**é”™è¯¯**ï¼š`OSError: [WinError 10048] é€šå¸¸æ¯ä¸ªå¥—æ¥å­—åœ°å€åªå…è®¸ä½¿ç”¨ä¸€æ¬¡`

**è§£å†³**ï¼š
```powershell
# æŸ¥æ‰¾å ç”¨8000ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8000

# ç»“æŸè¿›ç¨‹ï¼ˆæ›¿æ¢<PID>ä¸ºå®é™…è¿›ç¨‹IDï¼‰
taskkill /F /PID <PID>

# æˆ–è€…ä½¿ç”¨å…¶ä»–ç«¯å£
python -m uvicorn app.main:app --host 0.0.0.0 --port 8001 --reload
```

å¦‚æœä½¿ç”¨8001ç«¯å£ï¼Œéœ€è¦ä¿®æ”¹å‰ç«¯APIåœ°å€ï¼š
```javascript
// åœ¨ TemplateManager.vue ä¸­
const response = await axios.get('http://localhost:8001/api/admin/ai-models/active')
```

### Q3ï¼šå‰ç«¯ä»ç„¶æŠ¥é”™

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] åç«¯æ˜¯å¦æ­£åœ¨è¿è¡Œï¼Ÿï¼ˆ`netstat -ano | findstr :8000`ï¼‰
- [ ] å‰ç«¯æ˜¯å¦å·²æ¸…é™¤ç¼“å­˜ï¼Ÿï¼ˆ`Ctrl + Shift + R`ï¼‰
- [ ] æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦è¿˜æœ‰çº¢è‰²é”™è¯¯ï¼Ÿ
- [ ] APIè¯·æ±‚åœ°å€æ˜¯å¦æ­£ç¡®ï¼Ÿï¼ˆæ£€æŸ¥Networkæ ‡ç­¾ï¼‰

---

## ğŸ“Š ç³»ç»ŸçŠ¶æ€æ£€æŸ¥

### æ£€æŸ¥è„šæœ¬

åˆ›å»ºä¸€ä¸ªPowerShellè„šæœ¬æ£€æŸ¥ç³»ç»ŸçŠ¶æ€ï¼š

```powershell
# check_status.ps1

Write-Host "========== ç³»ç»ŸçŠ¶æ€æ£€æŸ¥ ==========" -ForegroundColor Cyan

# æ£€æŸ¥åç«¯ç«¯å£
Write-Host "`n1. æ£€æŸ¥åç«¯æœåŠ¡ (8000ç«¯å£)..." -ForegroundColor Yellow
$backend = netstat -ano | findstr :8000
if ($backend) {
    Write-Host "âœ… åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ" -ForegroundColor Green
    Write-Host $backend
} else {
    Write-Host "âŒ åç«¯æœåŠ¡æœªè¿è¡Œ" -ForegroundColor Red
    Write-Host "è¯·æ‰§è¡Œ: cd backend && python -m uvicorn app.main:app --host 0.0.0.0 --port 8000"
}

# æ£€æŸ¥å‰ç«¯ç«¯å£
Write-Host "`n2. æ£€æŸ¥å‰ç«¯æœåŠ¡ (3000ç«¯å£)..." -ForegroundColor Yellow
$frontend = netstat -ano | findstr :3000
if ($frontend) {
    Write-Host "âœ… å‰ç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ" -ForegroundColor Green
    Write-Host $frontend
} else {
    Write-Host "âŒ å‰ç«¯æœåŠ¡æœªè¿è¡Œ" -ForegroundColor Red
    Write-Host "è¯·æ‰§è¡Œ: cd frontend && npm run dev"
}

# æµ‹è¯•åç«¯API
Write-Host "`n3. æµ‹è¯•åç«¯API..." -ForegroundColor Yellow
try {
    $response = Invoke-WebRequest -Uri "http://localhost:8000/health" -UseBasicParsing -ErrorAction Stop
    Write-Host "âœ… åç«¯APIå“åº”æ­£å¸¸" -ForegroundColor Green
    Write-Host $response.Content
} catch {
    Write-Host "âŒ åç«¯APIæ— å“åº”" -ForegroundColor Red
    Write-Host $_.Exception.Message
}

Write-Host "`n====================================`n" -ForegroundColor Cyan
```

**ä½¿ç”¨æ–¹æ³•**ï¼š
```powershell
cd G:\aiqywx\customer-system\customer-system
.\check_status.ps1
```

---

## ğŸ¯ å¿«é€Ÿå¯åŠ¨è„šæœ¬

åˆ›å»ºä¸€ä¸ªä¸€é”®å¯åŠ¨è„šæœ¬ï¼š

```powershell
# start_all.ps1

Write-Host "========== å¯åŠ¨æ™ºèƒ½å”®åç³»ç»Ÿ ==========" -ForegroundColor Cyan

# å¯åŠ¨åç«¯
Write-Host "`n1. å¯åŠ¨åç«¯æœåŠ¡..." -ForegroundColor Yellow
Start-Process powershell -ArgumentList "-NoExit", "-Command", "cd G:\aiqywx\customer-system\customer-system\backend; python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload"

# ç­‰å¾…2ç§’
Start-Sleep -Seconds 2

# å¯åŠ¨å‰ç«¯
Write-Host "2. å¯åŠ¨å‰ç«¯æœåŠ¡..." -ForegroundColor Yellow
Start-Process powershell -ArgumentList "-NoExit", "-Command", "cd G:\aiqywx\customer-system\customer-system\frontend; npm run dev"

Write-Host "`nâœ… ç³»ç»Ÿå¯åŠ¨ä¸­ï¼Œè¯·ç­‰å¾…..." -ForegroundColor Green
Write-Host "åç«¯: http://localhost:8000" -ForegroundColor Cyan
Write-Host "å‰ç«¯: http://localhost:3000" -ForegroundColor Cyan
Write-Host "`n====================================`n" -ForegroundColor Cyan
```

**ä½¿ç”¨æ–¹æ³•**ï¼š
```powershell
cd G:\aiqywx\customer-system\customer-system
.\start_all.ps1
```

---

## âœ… ä¿®å¤æ€»ç»“

| é—®é¢˜ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| API 404é”™è¯¯ | âœ… å·²ä¿®å¤ | åç«¯è·¯ç”±å·²æ³¨å†Œï¼Œéœ€å¯åŠ¨åç«¯æœåŠ¡ |
| Runtime TypeError | âœ… å·²ä¿®å¤ | æ·»åŠ å®¹é”™å¤„ç†ï¼Œä½¿ç”¨é»˜è®¤AIæ¨¡å‹é…ç½® |
| å‰ç«¯æ¸²æŸ“é”™è¯¯ | âœ… å·²ä¿®å¤ | ä¿®å¤äº†Element Plus APIè­¦å‘Š |
| å˜é‡ç®¡ç†é”™è¯¯ | âœ… å·²ä¿®å¤ | ä¿®å¤äº†v-forå’Œv-ifå†²çª |

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. **å¯åŠ¨åç«¯æœåŠ¡**ï¼ˆæœ€é‡è¦ï¼ï¼‰
2. **ç¡¬åˆ·æ–°æµè§ˆå™¨**ï¼ˆ`Ctrl + Shift + R`ï¼‰
3. **æµ‹è¯•åŠŸèƒ½**ï¼ˆæ–°å»ºã€ç¼–è¾‘ã€é¢„è§ˆã€æµ‹è¯•å‘é€ï¼‰
4. **åé¦ˆç»“æœ**

---

**ç°åœ¨è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨åç«¯æœåŠ¡ï¼š**

```powershell
cd G:\aiqywx\customer-system\customer-system\backend
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

ç„¶å**ç¡¬åˆ·æ–°æµè§ˆå™¨**ï¼Œå‘Šè¯‰æˆ‘ç»“æœï¼ğŸ‰
