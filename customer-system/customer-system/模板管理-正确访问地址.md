# 模板管理 - 正确访问指南（已修正）

## ✅ 正确的访问地址

### 直接访问（推荐）
```
http://localhost:3000/templates
```

**直接点击进入模板管理！** 这是正确的地址。

---

## 📍 从主页进入的步骤

```
1. 打开 http://localhost:3000（首页）
2. 看到"快捷入口"卡片区域
3. 找到底部的 📝 "模板管理" 卡片
4. 点击"管理模板"按钮
5. 进入模板管理页面
```

**或直接输入：** `http://localhost:3000/templates`

---

## 🎯 模板管理页面功能

进入模板管理后，你会看到：

```
┌─────────────────────────────────┐
│  📝 消息模板管理                │
├─────────────────────────────────┤
│                                 │
│  📱 短信模板   📧 邮件模板      │
│  💬 微信公众号  🏢 企业微信     │
│  🤖 AI回复模板  📢 群机器人     │
│                                 │
│  模板列表：                      │
│  ┌───────────────────────────┐  │
│  │ 模板名 | 场景 | 内容 | 操作 │  │
│  └───────────────────────────┘  │
│                                 │
│  [+ 新建模板]                   │
│                                 │
└─────────────────────────────────┘
```

---

## 🔧 在模板管理中配置链接

### 第1步：创建新模板
```
1. 进入 http://localhost:3000/templates
2. 选择消息类型（如"微信公众号"）
3. 点击"+ 新建模板"
```

### 第2步：选择链接类型
```
在模板编辑页面找到"跳转链接"部分：

📌 链接类型选择：
   ✓ 自定义链接
   ✓ 售前商机详情     (presale)
   ✓ 售后工单详情     (aftersales)
   ✓ 销售订单详情     (sales)
   ✓ 项目状态查询     (status-query)
```

### 第3步：复制或插入URL
```
点击对应的链接类型后，会显示：

售前商机：http://localhost:3000/project/{order_id}?type=presale
售后工单：http://localhost:3000/project/{order_id}?type=aftersales
销售订单：http://localhost:3000/project/{order_id}?type=sales
支付页面：http://localhost:3000/pay/{order_id}
项目状态：http://localhost:3000/project/{order_id}?type=status

点击链接标签可快速插入到模板内容中
```

### 第4步：编写模板内容
```
使用可用变量：
{customer_name}  - 客户名称
{order_id}       - 订单ID
{status}         - 订单状态
{amount}         - 金额
... 等更多变量

模板内容示例：
尊敬的 {customer_name}，
您的订单 {order_id} 已确认
金额：¥{amount}
点击查看详情：http://localhost:3000/project/{order_id}?type=sales
```

### 第5步：保存模板
```
1. 点击"保存"按钮
2. 模板会添加到列表中
3. 使用右侧的开关启用/禁用
4. 可编辑、预览或删除
```

---

## 📱 四种链接类型速览

| 类型 | 使用场景 | URL |
|------|---------|-----|
| presale | 商机通知 | `/project/{order_id}?type=presale` |
| aftersales | 工单进度 | `/project/{order_id}?type=aftersales` |
| sales | 订单确认 | `/project/{order_id}?type=sales` |
| status-query | 状态查询 | `/project/{order_id}?type=status` |

**自定义：** 选"自定义链接"输入任意URL，如支付页面 `/pay/{order_id}`

---

## ⚡ 快速路由对照表

```
首页               → http://localhost:3000/
配置中心           → http://localhost:3000/config
消息监控大屏       → http://localhost:3000/monitor
消息管理           → http://localhost:3000/messages
⭐ 模板管理        → http://localhost:3000/templates  ← 你要找的
报表分析           → http://localhost:3000/reports
工单详情           → http://localhost:3000/project/{id}
支付页面           → http://localhost:3000/pay/{id}
```

---

## ✨ 现在就可以做

```
1️⃣ 打开浏览器：
   http://localhost:3000/templates

2️⃣ 看到模板管理界面

3️⃣ 选择消息类型

4️⃣ 创建新模板

5️⃣ 选择链接类型并配置

6️⃣ 保存并测试
```

---

## 📞 如果还是打不开？

**检查项：**
1. ✅ 前端是否启动？
   ```bash
   cd frontend
   npm run dev
   ```

2. ✅ 是否是正确的URL？
   ```
   http://localhost:3000/templates  ← 这个
   不是：http://localhost:3000/config-center ← 这个不存在
   ```

3. ✅ 浏览器是否有错误？
   按F12打开开发者工具查看Console错误信息

4. ✅ 尝试清除缓存？
   ```
   Ctrl + Shift + Delete 清除浏览器缓存
   或 Ctrl + Shift + R 硬刷新
   ```

---

## 📚 完整的路由列表

查看完整配置文件：[frontend/src/router.js](frontend/src/router.js)

所有可用路由：
- `/` - 首页/仪表板
- `/config` - 配置中心
- `/monitor` - 消息监控大屏
- `/messages` - 消息管理
- `/templates` - **模板管理** ⭐ 
- `/reports` - 报表分析
- `/project/:id` - 工单详情

---

## 🎯 你需要的就是这个：

```
👉 http://localhost:3000/templates
```

**就这么简单！** 直接访问这个URL就是模板管理界面。

现在可以开始配置你的四种项目链接类型了！😊
