# 🚀 消息模板「实时/定时推送」功能 - 快速启动指南

## 📍 访问地址

```
http://localhost:3000/config-center
↓
左侧菜单 → 🔧 配置中心
↓
选择「模板管理」标签
```

---

## ⚡ 30秒快速体验

### 1️⃣ 创建实时推送模板

```
1. 点击「📢 群机器人」标签
2. 点击「+ 新建模板」
3. 填写：
   - 模板名称: "价格咨询自动回复"
   - 分类: 选择"客户通知"
   - 推送模式: 选择「⚡ 实时推送」
   - 触发关键词: "价格,报价"
   - 发送对象: 选择"客户服务群"
   - 模板内容: "您好！关于价格咨询..."
4. 点击「保存」✅

效果: 客户在群里说"价格"，立即自动回复
```

### 2️⃣ 创建定时推送模板

```
1. 点击「📢 群机器人」标签
2. 点击「+ 新建模板」
3. 填写：
   - 模板名称: "每日工作通知"
   - 分类: 选择"客户通知"
   - 推送模式: 选择「⏰ 定时推送」
   - 发送时间: 选择"明天 09:00"
   - 重复周期: 选择"每天"
   - 发送对象: 选择"内部工作群"
   - 模板内容: "早上好！今日工作提醒..."
4. 点击「保存」✅

效果: 每天早上9点自动发送到内部工作群
```

---

## 🎯 各模块快速配置

### 📢 群机器人（推荐先体验这个）

**实时推送示例**
```yaml
场景: 客户问价格，自动回复
配置:
  模板名称: "价格咨询自动回复"
  推送模式: ⚡ 实时推送
  触发关键词: "价格,报价,多少钱"
  发送对象: "客户服务群"
  模板内容: |
    您好{customer_name}！
    关于产品价格，我们会尽快为您报价。
    请联系销售顾问：13800138000
```

**定时推送示例**
```yaml
场景: 每天早上发工作提醒
配置:
  模板名称: "每日工作通知"
  推送模式: ⏰ 定时推送
  发送时间: 09:00
  重复周期: 每天
  发送对象: "内部工作群"
  模板内容: |
    早上好！今日工作提醒：
    1. 跟进昨日未完成工单
    2. 回复客户咨询消息
    3. 更新项目进度
```

### 🤖 AI回复模板

**实时推送示例**
```yaml
场景: 客户咨询售后，AI自动引导
配置:
  模板名称: "售后咨询引导"
  推送模式: ⚡ 实时推送
  触发关键词: "售后,坏了,故障"
  AI模型: "腾讯云混元A13B"
  模板内容: |
    您好！关于售后问题，请提供：
    1. 您的联系方式
    2. 产品名称
    3. 具体问题描述
    我们会尽快为您处理
```

### 🏢 企业微信

**定时推送示例**
```yaml
场景: 每周一发周报提醒
配置:
  模板名称: "周报提醒"
  推送模式: ⏰ 定时推送
  发送时间: 每周一 10:00
  重复周期: 每周
  选择星期: 周一
  发送对象: "销售部门"
  模板内容: |
    各位销售同事，
    请在今天下班前提交上周销售周报。
```

### 💬 微信公众号

**定时推送示例**
```yaml
场景: 活动通知
配置:
  模板名称: "春节活动通知"
  推送模式: ⏰ 定时推送
  发送时间: 2026-02-05 10:00
  重复周期: 一次性
  发送对象: "全部粉丝"
  模板内容: |
    【新春特惠】春节期间全场8折！
    活动时间：2月5日-2月20日
    点击查看详情 >>
```

---

## 💡 常用变量速查

**复制粘贴即用**

```
客户信息:
{customer_name}    客户姓名
{phone}            联系电话
{company}          公司名称

订单信息:
{order_no}         订单号
{product}          产品名称
{amount}           金额
{date}             日期
{time}             时间
```

**使用示例**
```
您好{customer_name}！

您的订单{order_no}已确认
产品：{product}
金额：¥{amount}
预计{date}送达

感谢支持！
```

---

## 🧪 测试功能

### 如何测试模板？

**方法1：测试发送（推荐）**
```
1. 在模板列表找到目标模板
2. 点击「测试发送」按钮
3. 选择测试对象（群聊或手机号）
4. 点击「确认发送」
5. 立即收到测试消息 ✅
```

**方法2：实际触发（实时推送）**
```
1. 保存实时推送模板
2. 在目标群聊发送触发关键词
3. 机器人立即自动回复 ✅
```

**方法3：等待执行（定时推送）**
```
1. 保存定时推送模板
2. 等到设定时间
3. 自动发送消息 ✅
```

---

## ⚠️ 注意事项

### 实时推送
```
✅ 触发关键词要精准（避免"你好"这种宽泛词）
✅ 多个关键词用英文逗号分隔
✅ 保存前先测试发送
✅ 定期检查触发频率

❌ 不要使用单字关键词
❌ 不要设置过多关键词
❌ 不要忘记启用模板
```

### 定时推送
```
✅ 发送时间必须大于当前时间
✅ 选择合适的发送时间（避免打扰）
✅ 公众号定时不超过7天
✅ 定期检查定时任务状态

❌ 不要设置在凌晨发送
❌ 不要过于频繁推送
❌ 不要忘记更新过期内容
```

### 变量使用
```
✅ 变量格式：{variable_name}
✅ 点击标签快速插入
✅ 预览确认效果

❌ 不要写错变量名
❌ 不要忘记大括号
```

---

## 🔧 故障排查

### 实时推送不响应？

**检查清单**
```
1. 模板是否启用？（开关打开）
2. 触发关键词是否正确？
3. 发送对象是否有权限？
4. 后端服务是否运行？

解决方法:
→ 点击「测试发送」验证配置
→ 检查后端日志
→ 重启后端服务
```

### 定时推送没执行？

**检查清单**
```
1. 模板是否启用？
2. 发送时间是否正确？
3. 重复周期是否设置？
4. 定时任务服务是否运行？

解决方法:
→ 查看定时任务列表
→ 检查定时任务日志
→ 重启定时任务服务
```

### 变量替换失败？

**检查清单**
```
1. 变量格式是否正确？{xxx}
2. 变量名称是否拼写正确？
3. 数据源是否包含该变量？

解决方法:
→ 使用快速插入功能
→ 参考变量速查表
→ 测试发送验证
```

---

## 📊 功能对比

| 功能 | 实时推送 | 定时推送 |
|------|---------|---------|
| 触发方式 | 关键词匹配 | 定时计划 |
| 响应速度 | 秒级 | 按计划 |
| 适合场景 | 客服对话 | 通知提醒 |
| 配置难度 | ⭐⭐ | ⭐⭐⭐ |
| 维护成本 | 低 | 中 |

---

## 📚 延伸阅读

**完整文档**
- [消息模板实时定时推送功能-实施指南.md](./消息模板实时定时推送功能-实施指南.md)
  → 详细功能说明、API设计、验收标准

- [消息模板功能速查卡.md](./消息模板功能速查卡.md)
  → 快速决策表、配置速查、最佳实践

- [消息模板「实时定时推送」功能-实施完成总结.md](./消息模板「实时定时推送」功能-实施完成总结.md)
  → 实施概览、完成内容、下一步计划

**相关指南**
- [README.md](./README.md) - 项目总览
- [@智能助手完整使用指南.md](./@智能助手完整使用指南.md) - AI对话功能
- [四种项目链接类型-速查表.md](./四种项目链接类型-速查表.md) - 链接配置

---

## 🎊 开始使用吧！

```
1. 访问 http://localhost:3000/config-center
2. 选择「模板管理」
3. 点击「+ 新建模板」
4. 跟着界面提示配置
5. 保存并测试
6. 开始享受自动化！🚀
```

**遇到问题？**
- 查看本文档的「故障排查」部分
- 阅读完整实施指南
- 查看项目 README

**祝你使用愉快！** 🎉
