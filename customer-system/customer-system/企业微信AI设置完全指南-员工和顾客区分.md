# 企业微信 AI 设置完全指南 - 员工与顾客区分

## 🎯 核心问题：你的实际场景是什么？

```
✅ 你的情况：
  • 高璧雯 = 【企业微信内部员工】(招商银行销售员工)
  • 你 = 【外部顾客】(通过企业微信与高璧雯聊天)
  • 你会发送："查询项目"、"我要售后"等消息给高璧雯

问题：这个 AI 自动回复应该在哪里设置？

关键：
1️⃣ 如果【高璧雯个人】想对顾客消息自动回复 → AI回复模板中【应答对象】设置高璧雯
2️⃣ 如果【系统】想对所有外部顾客自动回复 → AI回复模板中【应答对象】设置所有外部用户
3️⃣ 如果【高璧雯】只是中介，实际处理由后台AI → 群机器人或后台API自动处理
```

---

## 📊 6 种模板的完整对比表

| 模板类型 | 使用者 | 用途 | 设置在哪 | 何时触发 |
|---------|-------|------|---------|---------|
| 📱 **短信模板** | 外部顾客 | 发送短信通知 | 消息模板 | 主动发送 |
| 📧 **邮件模板** | 外部顾客 | 发送邮件通知 | 消息模板 | 主动发送 |
| 💬 **微信公众号** | 外部顾客 | 发送公众号消息 | 消息模板 | 主动发送 |
| 🏢 **企业微信** | 内部员工 + 外部顾客 | 发送企业微信消息 | 消息模板 + 机器人 | 主动 + 自动 |
| 🤖 **AI回复模板** | 内部员工 + 外部顾客 | 【关键词自动回复】+ 【AI智能应答】 | 这里！👈 | 收到消息时 |
| 📢 **群机器人** | 群成员 | 发送群消息通知 | 消息模板 + 机器人 | 主动 + 自动 |

---

## 🔑 关键点：AI 回复 vs 其他模板的区别

### ❌ 其他 5 种模板的特点
```
📱 短信/📧 邮件/💬 公众号/🏢 企业微信/📢 群机器人
↓
【主动发送】= 你的系统主动向用户推送信息
↓
例如：订单确认、工单更新、支付提醒等
↓
用户【不需要】先给你发消息
```

### ✅ AI 回复模板的特点
```
🤖 AI 回复模板
↓
【被动响应】= 用户先给你发消息，系统自动回复
↓
两种响应方式：
  1️⃣ 【关键词精准匹配】→ 回复预设文本
     例如：收到"查询项目" → 自动回复项目列表链接
  2️⃣ 【AI智能应答】→ 用 AI 理解并自动回复
     例如：收到任何关于"售后"的问题 → AI 自动分析并回复
```

---

## 🏢 企业微信员工场景详解

### 🎯 你的实际情况：顾客 ↔ 内部员工的互动

```
┌─────────────────────────────────────┐
│ 你（外部顾客）                      │
│  ↓                                  │
│  发消息："查询项目"                │
│  发消息："我要售后"                │
│  ↓                                  │
│ 高璧雯（招商银行内部员工）          │
│  ↓                                  │
│  收到消息                           │
│  ↓                                  │
│  谁来自动回复？【有三种选择】       │
└─────────────────────────────────────┘

选择1️⃣：【高璧雯个人的自动回复】
  ├─ 高璧雯个人想对顾客设置自动回复
  ├─ 例如："我现在忙，请稍候..."
  └─ 这是 🤖 AI回复模板 中，应答对象设置为"高璧雯"

选择2️⃣：【对所有外部顾客的自动回复】
  ├─ 系统想对所有顾客自动回复
  ├─ 例如："您好，我们已收到，将在X小时内回复"
  └─ 这是 🤖 AI回复模板 中，应答对象设置为"所有外部用户"

选择3️⃣：【智能AI自动处理顾客请求】(推荐)
  ├─ AI 直接理解顾客的需求
  ├─ "查询项目" → 自动返回项目列表链接
  ├─ "我要售后" → 自动返回售后选项或创建工单
  └─ 这是 🤖 AI回复模板 中，启用【AI智能应答】
```

### 场景1：顾客发 "查询项目"

```
你（外部顾客） 
  ↓ 企业微信消息
  "查询项目"
  ↓
高璧雯（内部员工）收到
  ↓
【系统自动回复】(3种方式选一种)

方案A：关键词快速回复
  └─ 识别 "查询项目" 
  └─ 自动回复：项目列表链接
     "https://xxx.com/project/list?user={your_id}"

方案B：AI智能理解
  └─ AI 识别 "他要查项目"
  └─ AI 自动生成：根据顾客身份定制的项目列表

方案C：转接给高璧雯后再由高璧雯手动回复
  └─ 系统提示高璧雯有新消息
  └─ 高璧雯手动回复
```

### 场景2：顾客发 "我要售后"

```
你（外部顾客）
  ↓ 企业微信消息
  "我要售后"
  ↓
高璧雯（内部员工）收到
  ↓
【系统自动回复】

方案A：关键词快速回复
  └─ 自动回复："售后选项"
     "您好！以下是我们的售后方案：
      1️⃣ 创建工单
      2️⃣ 申请维修
      3️⃣ 退换货"

方案B：AI智能理解
  └─ AI 分析 "售后需求"
  └─ AI 自动：
     - 查询该顾客的订单历史
     - 推荐最合适的售后方案
     - 或自动创建工单

方案C：高璧雯手动回复
  └─ 高璧雯看到消息后，手动回复顾客
```

---

## 🤖 AI 回复模板的两种模式

### 模式1️⃣：关键词回复（简单快速）

```
配置方式：
🏢 企业微信 → 🤖 AI 回复模板

具体设置：
┌──────────────────────────────────┐
│ 关键词模式                        │
├──────────────────────────────────┤
│ 关键词1：查询项目                 │
│ 回复内容：                        │
│ "您好，这是项目列表：              │
│  https://xxx.com/project/list"  │
│                                  │
│ 关键词2：售后                     │
│ 回复内容：                        │
│ "请问需要什么售后帮助？            │
│  我们可以：工单、维修、退换"      │
│                                  │
│ 关键词3：发票                     │
│ 回复内容：                        │
│ "发票已发送至您的邮箱..."         │
└──────────────────────────────────┘

优点：⚡ 快、准、稳定
缺点：🔧 需要提前配置所有可能的关键词
```

### 模式2️⃣：AI 智能应答（灵活强大）

```
配置方式：
🏢 企业微信 → 🤖 AI 回复模板

具体设置：
┌──────────────────────────────────┐
│ AI 应答模式                       │
├──────────────────────────────────┤
│ 启用 AI：✅ 开启                   │
│ 系统提示词：                      │
│ "你是招商银行的客服AI，             │
│  用户可能询问：                    │
│  - 项目相关问题                    │
│  - 售后服务问题                    │
│  - 账单、发票问题                  │
│  请根据上下文理解并给出帮助"      │
│                                  │
│ 可选：集成的数据源                │
│ - 项目数据库                      │
│ - 工单系统                        │
│ - 账户系统                        │
└──────────────────────────────────┘

优点：🎯 灵活，能理解意思，不需要穷举
缺点：🤖 需要 AI 服务，可能有延迟
```

---

## 💡 你的场景实际设置指南

### 场景：顾客通过企业微信与高璧雯聊天，需要查项目或售后

**Step 1: 确认你要达到的目标**

```
选择一个目标：

目标A【推荐】：智能AI自动回复顾客
  ├─ 顾客发"查项目" → AI自动返回项目列表链接
  ├─ 顾客发"售后" → AI自动返回售后选项或创建工单
  ├─ 优点：快速、不需要高璧雯手动回复
  └─ 缺点：需要配置AI服务

目标B：高璧雯个人的自动回复
  ├─ 高璧雯设置："我现在忙，稍后回复"
  ├─ 所有顾客消息都会收到这个自动回复
  └─ 然后高璧雯再手动回复实际问题

目标C：高璧雯手动回复（不用自动化）
  ├─ 高璧雯在企业微信中看到顾客消息
  ├─ 高璧雯手动回复顾客
  └─ 系统只是提醒通知
```

**Step 2: 以【目标A】为例 - 设置智能AI自动回复**

**打开消息模板管理**

```
http://localhost:3000/templates
```

**Step 3: 点击 "🤖 AI 回复模板" 标签**

```
页面顶部有 6 个标签：
📱 短信模板
📧 邮件模板
💬 微信公众号
🏢 企业微信
🤖 AI回复模板 ← 点这里！
📢 群机器人
```

**Step 4: 选择应答对象**

```
创建一个新的 AI 回复模板：

应答对象：选择谁会被自动回复？
├─ 👤 指定高璧雯 
│  └─ 只有高璧雯收到的顾客消息会被自动回复
│  └─ 这样高璧雯不用逐一手动回复常见问题
│
├─ 👥 指定企业微信群 "高璧雯的顾客群"
│  └─ 群里的所有顾客消息都会被自动回复
│
└─ 🌐 所有外部顾客
   └─ 任何外部顾客的消息都会被自动回复
   └─ 通常建议选这个（面向所有顾客）
```

**Step 5: 配置回复方式 - 两个选项**

```
┌─────────────────────────────────────────┐
│ 方案1️⃣：【关键词模式】(适合常见问题)   │
├─────────────────────────────────────────┤
│ 配置关键词和预设回复                    │
│                                        │
│ 关键词："查询项目、查项目、项目列表"  │
│ 回复内容：                              │
│ "您好！这是项目列表：                   │
│  🔗 https://xxx.com/project/list        │
│  点击查看您的项目详情"                 │
│                                        │
│ 关键词："售后、我要售后、后期维修"    │
│ 回复内容：                              │
│ "您好！售后相关问题：                   │
│  1️⃣ 创建工单
│  2️⃣ 在线咨询
│  3️⃣ 上门维修
│  请问需要哪项帮助？"                   │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 方案2️⃣：【AI智能应答】(适合开放问题)  │
├─────────────────────────────────────────┤
│ 启用AI，让AI自动理解并回复              │
│                                        │
│ 系统提示词：                            │
│ "你是客户服务AI助手。                  │
│  顾客可能询问：                         │
│  - 查询自己的项目                       │
│  - 售后相关问题                         │
│  - 技术支持                             │
│  请根据需求：                           │
│  1. 如果查项目 → 返回项目列表链接      │
│  2. 如果要售后 → 提供售后选项或创建工单│
│  3. 其他问题 → 给出专业建议"           │
│                                        │
│ AI模型：选择 GPT-4 或其他可用模型      │
│                                        │
│ 💡 建议同时启用两种：                  │
│    常见问题用关键词快速回复 ⚡         │
│    其他问题用AI智能应答 🤖             │
└─────────────────────────────────────────┘
```

**Step 6: 具体配置示例**

```
【情景：顾客说"查询项目"】

关键词设置：
┌──────────────────────────────┐
│ 关键词1: "查询项目"          │
│ 回复内容:                    │
│ "您好！正在为您查询项目...   │
│                              │
│ 这是您的项目列表：           │
│ 🔗 https://xxx.com/          │
│    project/list?             │
│    customer_id={user_id}     │
│                              │
│ 点击链接可以：               │
│ ✅ 查看项目进展              │
│ ✅ 查看订单状态              │
│ ✅ 下载资料                  │
│                              │
│ 如需帮助，请留言或联系我们"  │
└──────────────────────────────┘

【情景：顾客说"我要售后"】

关键词设置：
┌──────────────────────────────┐
│ 关键词2: "售后"              │
│ 回复内容:                    │
│ "您好！感谢您的咨询。         │
│                              │
│ 我们提供以下售后服务：       │
│ 📋 创建工单                  │
│   立即反映您的问题给技术团队  │
│                              │
│ 🔧 技术支持                  │
│   远程协助解决问题           │
│                              │
│ 🏪 退换货                    │
│   符合条件即可办理           │
│                              │
│ 请选择您需要的服务类型，或   │
│ 点击此链接提交工单：         │
│ 🔗 https://xxx.com/          │
│    ticket/create?            │
│    type=aftersales           │
│                              │
│ 我们将在24小时内响应"       │
└──────────────────────────────┘
```

**Step 7: 保存和测试**

```
1️⃣ 点击"保存模板"

2️⃣ 在企业微信中测试：
   - 用你的账号登录企业微信
   - 在与高璧雯的聊天中发送："查询项目"
   - 观察是否自动收到回复

3️⃣ 验证回复内容：
   - 收到的是关键词预设的回复吗？
   - 链接是否正确？
   - 如果启用了AI，AI有没有理解你的意思？
```

---

## 🔄 企业微信员工 vs 外部顾客的处理流程

### 流程图：消息到达 → 如何处理？

```
消息来源
  ↓
  ├─ 👤 企业微信内部员工（如高璧雯）
  │  ↓
  │  用【🤖 AI 回复模板】设置
  │  ├─ 关键词快速回复（查询项目、售后等）
  │  └─ AI 智能应答（开放问题）
  │
  └─ 👥 外部顾客（通过企业微信添加的客户）
     ↓
     也用【🤖 AI 回复模板】设置
     ├─ 关键词快速回复（常见问题）
     └─ AI 智能应答（开放问题）

关键点：
AI 回复模板 = 所有【被动接收消息并自动回复】的场景都用这里！
包括：内部员工、外部顾客、群成员等
```

---

## 📋 其他 5 种模板的用途（对比参考）

### 📱 短信模板
```
场景：你需要【主动发送】短信
例如：
- "订单已确认，将于2天后发货"
- "您的账单金额为 1000 元，请及时支付"

【谁】：可以是任何人，通常是客户
【何时】：你的系统主动触发（订单、账单等事件）
【怎么设置】：短信模板里面设置消息内容和变量
```

### 📧 邮件模板
```
场景：你需要【主动发送】邮件
例如：
- "工单已创建，编号 #12345"
- "发票已生成，请查收附件"

【谁】：通常是有邮箱的客户
【何时】：你的系统主动触发（工单创建、发票生成等）
【怎么设置】：邮件模板里面设置标题、正文和变量
```

### 💬 微信公众号
```
场景：你需要【主动发送】微信公众号消息
例如：
- 推送新产品信息
- 推送行业资讯

【谁】：公众号粉丝
【何时】：你的系统主动触发（定期推送、事件推送等）
【怎么设置】：微信公众号模板里面设置消息内容
```

### 🏢 企业微信（主动发送）
```
场景：你需要【主动发送】企业微信消息
例如：
- "您的项目已开启，请访问：xxx"
- "您的工单已完成，请确认"

【谁】：企业微信用户（员工、客户）
【何时】：你的系统主动触发
【怎么设置】：企业微信模板里面设置消息内容和变量
```

### 📢 群机器人
```
场景：你需要【主动发送】群消息
例如：
- 在销售群发送每日成交总结
- 在技术群发送系统状态报告

【谁】：群成员
【何时】：你的系统主动触发（定时任务、事件触发等）
【怎么设置】：群机器人模板里面设置消息内容
```

---

## 🎯 完整答案：你的问题

### Q: 我是顾客，高璧雯是招商银行的员工，我想通过企业微信查询项目或售后，应该怎么设置？

```
✅ 答案：【🤖 AI 回复模板】+ 【应答对象：所有外部顾客】

核心逻辑：
你(顾客) 
  ↓ 发消息给企业微信
  "查询项目"或"我要售后"
  ↓
系统自动回复(不需要高璧雯手动回复)
  ↓
你(顾客)收到自动回复，获得项目链接或售后选项


具体步骤：
1️⃣ 消息模板管理 → 🤖 AI回复模板标签
2️⃣ 点击"+ 新建模板"
3️⃣ 应答对象：选择"所有外部顾客"或"指定高璧雯处理的顾客"
4️⃣ 配置回复方式：
   ☑️ 关键词模式
     - "查询项目" → 回复项目列表链接
     - "售后" → 回复售后选项
   ☑️ AI智能应答(可选)
5️⃣ 点击"保存模板"
6️⃣ 在企业微信测试发送消息
```

### Q: 这是高璧雯（员工）的自动回复，还是系统的自动回复？

```
✅ 答案：【系统的自动回复】

区别：
【高璧雯个人的自动回复】
└─ 应答对象：指定员工"高璧雯"
└─ 场景：高璧雯个人设置"我现在忙，稍后回复"
└─ 谁受益：只有与高璧雯聊天的人会收到
└─ 用处：高璧雯个人离线时的提醒

【系统的自动回复】(推荐)
└─ 应答对象："所有外部顾客"
└─ 场景：系统自动处理顾客的常见问题
└─ 谁受益：所有与企业微信交互的顾客
└─ 用处：24/7 自动处理，高璧雯不需要手动一一回复

你的情况应该选【系统的自动回复】：
  • 顾客发"查项目" → 系统自动返回链接
  • 顾客发"售后" → 系统自动返回选项
  • 高璧雯只需要处理复杂问题，简单问题由系统搞定
```

### Q: 应答对象怎么选？

```
✅ 应答对象选项对照表

选项1：【指定员工】→ 高璧雯
结果：高璧雯个人的自动离线回复
例如："我现在忙，您的消息已收到，稍后回复"

选项2：【指定群组】→ 招商银行客户群
结果：对该群的所有消息自动回复
例如：群里有人问"查项目" → 群里都能看到自动回复

选项3：【所有外部顾客】⭐ 推荐
结果：任何外部顾客的消息都自动回复
例如：
  • 顾客A发"查项目" → 自动回复
  • 顾客B发"售后" → 自动回复
  • 其他顾客发任何消息 → 都自动回复

你的情况建议选【选项3：所有外部顾客】
因为这样可以处理所有顾客的常见问题，不仅仅是高璧雯的顾客
```

---

## 📌 总结速记卡

```
【6 种模板速记】

主动发送类 (你的系统主动推送信息):
├─ 📱 短信模板 ......... 发短信
├─ 📧 邮件模板 ......... 发邮件
├─ 💬 微信公众号 ....... 发公众号消息
├─ 🏢 企业微信消息 ..... 发企业微信消息
└─ 📢 群机器人 ......... 发群消息

被动回复类 (用户先给你发消息，你自动回复):
└─ 🤖 AI 回复模板 ..... 自动回复或 AI 应答
   ├─ 关键词模式：精准快速
   └─ AI 模式：灵活智能
   └─ 应答对象：可指定内部员工、外部顾客、群、或所有人

【你的场景】
高璧雯 (招商银行员工)
→ 给你发 "查询项目"、"我要售后"
→ 用【🤖 AI 回复模板】设置
→ 应答对象：高璧雯
→ 配置关键词和 AI 回复
→ 完成！
```

---

## 🚀 现在就做

```
1️⃣ 打开：http://localhost:3000/templates

2️⃣ 点击：🤖 AI回复模板 (第5个标签)

3️⃣ 点击：+ 新建模板

4️⃣ 填写：
   - 模板名称：高璧雯-自动回复
   - 应答对象：指定员工-高璧雯
   - 关键词：查询项目
   - 回复内容：(你的项目列表链接)

5️⃣ 保存

6️⃣ 在企业微信中测试！
```

**现在清楚了吗？** 所有的自动回复都是在【🤖 AI回复模板】设置，
无论是内部员工、外部顾客，还是群成员！🎯
